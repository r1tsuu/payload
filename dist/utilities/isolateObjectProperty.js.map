{"version":3,"sources":["../../src/utilities/isolateObjectProperty.ts"],"sourcesContent":["/**\n * Creates a proxy for the given object that has its own property\n */\nexport default function isolateObjectProperty<T>(object: T, key): T {\n  const delegate = {}\n  const handler = {\n    deleteProperty(target, p): boolean {\n      return Reflect.deleteProperty(p === key ? delegate : target, p)\n    },\n    get(target, p, receiver) {\n      return Reflect.get(p === key ? delegate : target, p, receiver)\n    },\n    has(target, p) {\n      return Reflect.has(p === key ? delegate : target, p)\n    },\n    set(target, p, newValue, receiver) {\n      if (p === key) {\n        // in case of transactionID we must ignore any receiver, because\n        // \"If provided and target does not have a setter for propertyKey, the property will be set on receiver instead.\"\n        return Reflect.set(delegate, p, newValue)\n      } else {\n        return Reflect.set(target, p, newValue, receiver)\n      }\n    },\n  }\n  return new Proxy(object, handler)\n}\n"],"names":["isolateObjectProperty","object","key","delegate","handler","deleteProperty","target","p","Reflect","get","receiver","has","set","newValue","Proxy"],"mappings":"AAAA;;CAEC,GACD,eAAe,SAASA,sBAAyBC,MAAS,EAAEC,GAAG;IAC7D,MAAMC,WAAW,CAAC;IAClB,MAAMC,UAAU;QACdC,gBAAeC,MAAM,EAAEC,CAAC;YACtB,OAAOC,QAAQH,cAAc,CAACE,MAAML,MAAMC,WAAWG,QAAQC;QAC/D;QACAE,KAAIH,MAAM,EAAEC,CAAC,EAAEG,QAAQ;YACrB,OAAOF,QAAQC,GAAG,CAACF,MAAML,MAAMC,WAAWG,QAAQC,GAAGG;QACvD;QACAC,KAAIL,MAAM,EAAEC,CAAC;YACX,OAAOC,QAAQG,GAAG,CAACJ,MAAML,MAAMC,WAAWG,QAAQC;QACpD;QACAK,KAAIN,MAAM,EAAEC,CAAC,EAAEM,QAAQ,EAAEH,QAAQ;YAC/B,IAAIH,MAAML,KAAK;gBACb,gEAAgE;gBAChE,iHAAiH;gBACjH,OAAOM,QAAQI,GAAG,CAACT,UAAUI,GAAGM;YAClC,OAAO;gBACL,OAAOL,QAAQI,GAAG,CAACN,QAAQC,GAAGM,UAAUH;YAC1C;QACF;IACF;IACA,OAAO,IAAII,MAAMb,QAAQG;AAC3B"}