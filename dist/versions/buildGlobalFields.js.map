{"version":3,"sources":["../../src/versions/buildGlobalFields.ts"],"sourcesContent":["import type { Field } from '../fields/config/types.js'\nimport type { SanitizedGlobalConfig } from '../globals/config/types.js'\n\nexport const buildVersionGlobalFields = (global: SanitizedGlobalConfig): Field[] => {\n  const fields: Field[] = [\n    {\n      name: 'version',\n      type: 'group',\n      fields: global.fields,\n    },\n    {\n      name: 'createdAt',\n      type: 'date',\n      admin: {\n        disabled: true,\n      },\n    },\n    {\n      name: 'updatedAt',\n      type: 'date',\n      admin: {\n        disabled: true,\n      },\n    },\n  ]\n\n  if (global?.versions?.drafts) {\n    fields.push({\n      name: 'latest',\n      type: 'checkbox',\n      admin: {\n        disabled: true,\n      },\n      index: true,\n    })\n  }\n\n  if (global?.versions?.drafts && global?.versions?.drafts?.autosave) {\n    fields.push({\n      name: 'autosave',\n      type: 'checkbox',\n      index: true,\n    })\n  }\n\n  return fields\n}\n"],"names":["buildVersionGlobalFields","global","fields","name","type","admin","disabled","versions","drafts","push","index","autosave"],"mappings":"AAGA,OAAO,MAAMA,2BAA2B,CAACC;IACvC,MAAMC,SAAkB;QACtB;YACEC,MAAM;YACNC,MAAM;YACNF,QAAQD,OAAOC,MAAM;QACvB;QACA;YACEC,MAAM;YACNC,MAAM;YACNC,OAAO;gBACLC,UAAU;YACZ;QACF;QACA;YACEH,MAAM;YACNC,MAAM;YACNC,OAAO;gBACLC,UAAU;YACZ;QACF;KACD;IAED,IAAIL,QAAQM,UAAUC,QAAQ;QAC5BN,OAAOO,IAAI,CAAC;YACVN,MAAM;YACNC,MAAM;YACNC,OAAO;gBACLC,UAAU;YACZ;YACAI,OAAO;QACT;IACF;IAEA,IAAIT,QAAQM,UAAUC,UAAUP,QAAQM,UAAUC,QAAQG,UAAU;QAClET,OAAOO,IAAI,CAAC;YACVN,MAAM;YACNC,MAAM;YACNM,OAAO;QACT;IACF;IAEA,OAAOR;AACT,EAAC"}