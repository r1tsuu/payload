{"version":3,"sources":["../../../src/globals/config/schema.ts"],"sourcesContent":["import joi from 'joi'\n\nimport { endpointsSchema } from '../../config/schema.js'\nimport {\n  componentSchema,\n  customViewSchema,\n  livePreviewSchema,\n} from '../../config/shared/componentSchema.js'\nimport { openGraphSchema } from '../../config/shared/openGraphSchema.js'\n\nconst globalSchema = joi\n  .object()\n  .keys({\n    slug: joi.string().required(),\n    access: joi.object({\n      read: joi.func(),\n      readVersions: joi.func(),\n      update: joi.func(),\n    }),\n    admin: joi.object({\n      components: joi.object({\n        elements: joi.object({\n          Description: componentSchema,\n          PreviewButton: componentSchema,\n          PublishButton: componentSchema,\n          SaveButton: componentSchema,\n          SaveDraftButton: componentSchema,\n        }),\n        views: joi.object({\n          Edit: joi.alternatives().try(\n            componentSchema,\n            joi.object({\n              API: joi.alternatives().try(componentSchema, customViewSchema),\n              Default: joi.alternatives().try(componentSchema, customViewSchema),\n              Preview: joi.alternatives().try(componentSchema, customViewSchema),\n              Version: joi.alternatives().try(componentSchema, customViewSchema),\n              Versions: joi.alternatives().try(componentSchema, customViewSchema),\n              // Relationships\n              // References\n            }),\n          ),\n        }),\n      }),\n      custom: joi.object().pattern(joi.string(), joi.any()),\n      description: joi\n        .alternatives()\n        .try(joi.func(), joi.object().pattern(joi.string(), [joi.string()]), joi.string()),\n      group: joi\n        .alternatives()\n        .try(joi.string(), joi.object().pattern(joi.string(), [joi.string()])),\n      hidden: joi.alternatives().try(joi.boolean(), joi.func()),\n      hideAPIURL: joi.boolean(),\n      livePreview: joi.object(livePreviewSchema),\n      meta: joi.object({\n        description: joi.string(),\n        openGraph: openGraphSchema,\n      }),\n      preview: joi.func(),\n    }),\n    custom: joi.object().pattern(joi.string(), joi.any()),\n    dbName: joi.alternatives().try(joi.string(), joi.func()),\n    endpoints: endpointsSchema,\n    fields: joi.array(),\n    graphQL: joi.alternatives().try(\n      joi.object().keys({\n        name: joi.string(),\n      }),\n      joi.boolean(),\n    ),\n    hooks: joi.object({\n      afterChange: joi.array().items(joi.func()),\n      afterRead: joi.array().items(joi.func()),\n      beforeChange: joi.array().items(joi.func()),\n      beforeRead: joi.array().items(joi.func()),\n      beforeValidate: joi.array().items(joi.func()),\n    }),\n    label: joi\n      .alternatives()\n      .try(joi.func(), joi.string(), joi.object().pattern(joi.string(), [joi.string()])),\n    typescript: joi.object().keys({\n      interface: joi.string(),\n    }),\n    versions: joi.alternatives().try(\n      joi.object({\n        drafts: joi.alternatives().try(\n          joi.object({\n            autosave: joi.alternatives().try(\n              joi.boolean(),\n              joi.object({\n                interval: joi.number(),\n              }),\n            ),\n            validate: joi.boolean(),\n          }),\n          joi.boolean(),\n        ),\n        max: joi.number(),\n      }),\n      joi.boolean(),\n    ),\n  })\n  .unknown()\n\nexport default globalSchema\n"],"names":["joi","endpointsSchema","componentSchema","customViewSchema","livePreviewSchema","openGraphSchema","globalSchema","object","keys","slug","string","required","access","read","func","readVersions","update","admin","components","elements","Description","PreviewButton","PublishButton","SaveButton","SaveDraftButton","views","Edit","alternatives","try","API","Default","Preview","Version","Versions","custom","pattern","any","description","group","hidden","boolean","hideAPIURL","livePreview","meta","openGraph","preview","dbName","endpoints","fields","array","graphQL","name","hooks","afterChange","items","afterRead","beforeChange","beforeRead","beforeValidate","label","typescript","interface","versions","drafts","autosave","interval","number","validate","max","unknown"],"mappings":"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"}