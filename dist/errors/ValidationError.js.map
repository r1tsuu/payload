{"version":3,"sources":["../../src/errors/ValidationError.ts"],"sourcesContent":["import type { TFunction } from '@payloadcms/translations'\n\nimport { en } from '@payloadcms/translations/languages/en'\nimport httpStatus from 'http-status'\n\nimport { APIError } from './APIError.js'\n\nexport class ValidationError extends APIError<{\n  collection?: string\n  errors: { field: string; message: string }[]\n  global?: string\n}> {\n  constructor(\n    results: { collection?: string; errors: { field: string; message: string }[]; global?: string },\n    t?: TFunction,\n  ) {\n    const message = t\n      ? t('error:followingFieldsInvalid', { count: results.errors.length })\n      : results.errors.length === 1\n        ? en.translations.error.followingFieldsInvalid_one\n        : en.translations.error.followingFieldsInvalid_other\n\n    super(\n      `${message} ${results.errors.map((f) => f.field).join(', ')}`,\n      httpStatus.BAD_REQUEST,\n      results,\n    )\n  }\n}\n"],"names":["en","httpStatus","APIError","ValidationError","constructor","results","t","message","count","errors","length","translations","error","followingFieldsInvalid_one","followingFieldsInvalid_other","map","f","field","join","BAD_REQUEST"],"mappings":"AAEA,SAASA,EAAE,QAAQ,wCAAuC;AAC1D,OAAOC,gBAAgB,cAAa;AAEpC,SAASC,QAAQ,QAAQ,gBAAe;AAExC,OAAO,MAAMC,wBAAwBD;IAKnCE,YACEC,OAA+F,EAC/FC,CAAa,CACb;QACA,MAAMC,UAAUD,IACZA,EAAE,gCAAgC;YAAEE,OAAOH,QAAQI,MAAM,CAACC,MAAM;QAAC,KACjEL,QAAQI,MAAM,CAACC,MAAM,KAAK,IACxBV,GAAGW,YAAY,CAACC,KAAK,CAACC,0BAA0B,GAChDb,GAAGW,YAAY,CAACC,KAAK,CAACE,4BAA4B;QAExD,KAAK,CACH,CAAC,EAAEP,QAAQ,CAAC,EAAEF,QAAQI,MAAM,CAACM,GAAG,CAAC,CAACC,IAAMA,EAAEC,KAAK,EAAEC,IAAI,CAAC,MAAM,CAAC,EAC7DjB,WAAWkB,WAAW,EACtBd;IAEJ;AACF"}